{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ContextUtils = void 0;\nconst constants_1 = require(\"@nestjs/common/constants\");\nconst shared_utils_1 = require(\"@nestjs/common/utils/shared.utils\");\nconst execution_context_host_1 = require(\"./execution-context-host\");\nclass ContextUtils {\n  mapParamType(key) {\n    const keyPair = key.split(':');\n    return keyPair[0];\n  }\n  reflectCallbackParamtypes(instance, methodName) {\n    return Reflect.getMetadata(constants_1.PARAMTYPES_METADATA, instance, methodName);\n  }\n  reflectCallbackMetadata(instance, methodName, metadataKey) {\n    return Reflect.getMetadata(metadataKey, instance.constructor, methodName);\n  }\n  reflectPassthrough(instance, methodName) {\n    return Reflect.getMetadata(constants_1.RESPONSE_PASSTHROUGH_METADATA, instance.constructor, methodName);\n  }\n  getArgumentsLength(keys, metadata) {\n    return keys.length ? Math.max(...keys.map(key => metadata[key].index)) + 1 : 0;\n  }\n  createNullArray(length) {\n    const a = new Array(length);\n    for (let i = 0; i < length; ++i) a[i] = undefined;\n    return a;\n  }\n  mergeParamsMetatypes(paramsProperties, paramtypes) {\n    if (!paramtypes) {\n      return paramsProperties;\n    }\n    return paramsProperties.map(param => ({\n      ...param,\n      metatype: paramtypes[param.index]\n    }));\n  }\n  getCustomFactory(factory, data, contextFactory) {\n    return (0, shared_utils_1.isFunction)(factory) ? (...args) => factory(data, contextFactory(args)) : () => null;\n  }\n  getContextFactory(contextType, instance, callback) {\n    const type = instance && instance.constructor;\n    return args => {\n      const ctx = new execution_context_host_1.ExecutionContextHost(args, type, callback);\n      ctx.setType(contextType);\n      return ctx;\n    };\n  }\n}\nexports.ContextUtils = ContextUtils;","map":{"version":3,"names":["Object","defineProperty","exports","value","ContextUtils","constants_1","require","shared_utils_1","execution_context_host_1","mapParamType","key","keyPair","split","reflectCallbackParamtypes","instance","methodName","Reflect","getMetadata","PARAMTYPES_METADATA","reflectCallbackMetadata","metadataKey","constructor","reflectPassthrough","RESPONSE_PASSTHROUGH_METADATA","getArgumentsLength","keys","metadata","length","Math","max","map","index","createNullArray","a","Array","i","undefined","mergeParamsMetatypes","paramsProperties","paramtypes","param","metatype","getCustomFactory","factory","data","contextFactory","isFunction","args","getContextFactory","contextType","callback","type","ctx","ExecutionContextHost","setType"],"sources":["C:/Users/salim/Dev/avans-nx-workshop-2024/avans-nx-workshop/node_modules/@nestjs/core/helpers/context-utils.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ContextUtils = void 0;\nconst constants_1 = require(\"@nestjs/common/constants\");\nconst shared_utils_1 = require(\"@nestjs/common/utils/shared.utils\");\nconst execution_context_host_1 = require(\"./execution-context-host\");\nclass ContextUtils {\n    mapParamType(key) {\n        const keyPair = key.split(':');\n        return keyPair[0];\n    }\n    reflectCallbackParamtypes(instance, methodName) {\n        return Reflect.getMetadata(constants_1.PARAMTYPES_METADATA, instance, methodName);\n    }\n    reflectCallbackMetadata(instance, methodName, metadataKey) {\n        return Reflect.getMetadata(metadataKey, instance.constructor, methodName);\n    }\n    reflectPassthrough(instance, methodName) {\n        return Reflect.getMetadata(constants_1.RESPONSE_PASSTHROUGH_METADATA, instance.constructor, methodName);\n    }\n    getArgumentsLength(keys, metadata) {\n        return keys.length\n            ? Math.max(...keys.map(key => metadata[key].index)) + 1\n            : 0;\n    }\n    createNullArray(length) {\n        const a = new Array(length);\n        for (let i = 0; i < length; ++i)\n            a[i] = undefined;\n        return a;\n    }\n    mergeParamsMetatypes(paramsProperties, paramtypes) {\n        if (!paramtypes) {\n            return paramsProperties;\n        }\n        return paramsProperties.map(param => ({\n            ...param,\n            metatype: paramtypes[param.index],\n        }));\n    }\n    getCustomFactory(factory, data, contextFactory) {\n        return (0, shared_utils_1.isFunction)(factory)\n            ? (...args) => factory(data, contextFactory(args))\n            : () => null;\n    }\n    getContextFactory(contextType, instance, callback) {\n        const type = instance && instance.constructor;\n        return (args) => {\n            const ctx = new execution_context_host_1.ExecutionContextHost(args, type, callback);\n            ctx.setType(contextType);\n            return ctx;\n        };\n    }\n}\nexports.ContextUtils = ContextUtils;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,YAAY,GAAG,KAAK,CAAC;AAC7B,MAAMC,WAAW,GAAGC,OAAO,CAAC,0BAA0B,CAAC;AACvD,MAAMC,cAAc,GAAGD,OAAO,CAAC,mCAAmC,CAAC;AACnE,MAAME,wBAAwB,GAAGF,OAAO,CAAC,0BAA0B,CAAC;AACpE,MAAMF,YAAY,CAAC;EACfK,YAAYA,CAACC,GAAG,EAAE;IACd,MAAMC,OAAO,GAAGD,GAAG,CAACE,KAAK,CAAC,GAAG,CAAC;IAC9B,OAAOD,OAAO,CAAC,CAAC,CAAC;EACrB;EACAE,yBAAyBA,CAACC,QAAQ,EAAEC,UAAU,EAAE;IAC5C,OAAOC,OAAO,CAACC,WAAW,CAACZ,WAAW,CAACa,mBAAmB,EAAEJ,QAAQ,EAAEC,UAAU,CAAC;EACrF;EACAI,uBAAuBA,CAACL,QAAQ,EAAEC,UAAU,EAAEK,WAAW,EAAE;IACvD,OAAOJ,OAAO,CAACC,WAAW,CAACG,WAAW,EAAEN,QAAQ,CAACO,WAAW,EAAEN,UAAU,CAAC;EAC7E;EACAO,kBAAkBA,CAACR,QAAQ,EAAEC,UAAU,EAAE;IACrC,OAAOC,OAAO,CAACC,WAAW,CAACZ,WAAW,CAACkB,6BAA6B,EAAET,QAAQ,CAACO,WAAW,EAAEN,UAAU,CAAC;EAC3G;EACAS,kBAAkBA,CAACC,IAAI,EAAEC,QAAQ,EAAE;IAC/B,OAAOD,IAAI,CAACE,MAAM,GACZC,IAAI,CAACC,GAAG,CAAC,GAAGJ,IAAI,CAACK,GAAG,CAACpB,GAAG,IAAIgB,QAAQ,CAAChB,GAAG,CAAC,CAACqB,KAAK,CAAC,CAAC,GAAG,CAAC,GACrD,CAAC;EACX;EACAC,eAAeA,CAACL,MAAM,EAAE;IACpB,MAAMM,CAAC,GAAG,IAAIC,KAAK,CAACP,MAAM,CAAC;IAC3B,KAAK,IAAIQ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,MAAM,EAAE,EAAEQ,CAAC,EAC3BF,CAAC,CAACE,CAAC,CAAC,GAAGC,SAAS;IACpB,OAAOH,CAAC;EACZ;EACAI,oBAAoBA,CAACC,gBAAgB,EAAEC,UAAU,EAAE;IAC/C,IAAI,CAACA,UAAU,EAAE;MACb,OAAOD,gBAAgB;IAC3B;IACA,OAAOA,gBAAgB,CAACR,GAAG,CAACU,KAAK,KAAK;MAClC,GAAGA,KAAK;MACRC,QAAQ,EAAEF,UAAU,CAACC,KAAK,CAACT,KAAK;IACpC,CAAC,CAAC,CAAC;EACP;EACAW,gBAAgBA,CAACC,OAAO,EAAEC,IAAI,EAAEC,cAAc,EAAE;IAC5C,OAAO,CAAC,CAAC,EAAEtC,cAAc,CAACuC,UAAU,EAAEH,OAAO,CAAC,GACxC,CAAC,GAAGI,IAAI,KAAKJ,OAAO,CAACC,IAAI,EAAEC,cAAc,CAACE,IAAI,CAAC,CAAC,GAChD,MAAM,IAAI;EACpB;EACAC,iBAAiBA,CAACC,WAAW,EAAEnC,QAAQ,EAAEoC,QAAQ,EAAE;IAC/C,MAAMC,IAAI,GAAGrC,QAAQ,IAAIA,QAAQ,CAACO,WAAW;IAC7C,OAAQ0B,IAAI,IAAK;MACb,MAAMK,GAAG,GAAG,IAAI5C,wBAAwB,CAAC6C,oBAAoB,CAACN,IAAI,EAAEI,IAAI,EAAED,QAAQ,CAAC;MACnFE,GAAG,CAACE,OAAO,CAACL,WAAW,CAAC;MACxB,OAAOG,GAAG;IACd,CAAC;EACL;AACJ;AACAlD,OAAO,CAACE,YAAY,GAAGA,YAAY","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}