{"ast":null,"code":"import { Router } from '@angular/router';\nimport { RecipeService } from '@avans-nx-workshop/features'; // Zorg ervoor dat je RecipeService importeert\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@avans-nx-workshop/features\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction DashboardComponent_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"a\", 7);\n    i0.ɵɵtext(2, \"Explore Recipes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 8);\n    i0.ɵɵtext(4, \"My Recipes\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/recipes\", a1];\n};\nfunction DashboardComponent_div_9_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 15);\n    i0.ɵɵelement(2, \"img\", 16);\n    i0.ɵɵelementStart(3, \"div\", 17)(4, \"h5\", 18);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 19);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"slice\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"a\", 20);\n    i0.ɵɵtext(10, \"View\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"br\");\n    i0.ɵɵelementStart(12, \"small\", 21);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const recipe_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", recipe_r3.imageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"alt\", recipe_r3.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(recipe_r3.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind3(8, 6, recipe_r3.description, 0, 100), \"... \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(10, _c0, recipe_r3._id));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", recipe_r3.cookingTime, \" mins\");\n  }\n}\nfunction DashboardComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"div\", 10)(2, \"h2\", 11);\n    i0.ɵɵtext(3, \"Featured Recipes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 12);\n    i0.ɵɵtemplate(5, DashboardComponent_div_9_div_5_Template, 14, 12, \"div\", 13);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.recipes);\n  }\n}\nexport class DashboardComponent {\n  constructor(recipeService, router) {\n    this.recipeService = recipeService;\n    this.router = router;\n    this.recipes = [];\n  }\n  ngOnInit() {\n    this.loadRecipes();\n  }\n  loadRecipes() {\n    this.recipeService.getRecipes().subscribe(data => {\n      console.log('Fetched recipes:', data);\n      if (data && data.results && Array.isArray(data.results)) {\n        this.recipes = data.results; // We gebruiken de array binnen 'results'\n      } else {\n        console.error('Geen recepten gevonden of verkeerde structuur');\n      }\n    });\n  }\n  isLoggedIn() {\n    return !!localStorage.getItem('token'); // Controleer of een token in localStorage is opgeslagen\n  }\n\n  viewRecipe(id) {\n    this.router.navigate(['/recipes', id]);\n  }\n  editRecipe(id) {\n    this.router.navigate(['/recipes', id, 'edit']);\n  }\n  isAdmin() {\n    // Replace with your actual admin check logic\n    return localStorage.getItem('role') === 'Admin';\n  }\n  static {\n    this.ɵfac = function DashboardComponent_Factory(t) {\n      return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.RecipeService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DashboardComponent,\n      selectors: [[\"avans-nx-workshop-dashboard\"]],\n      decls: 10,\n      vars: 2,\n      consts: [[1, \"py-5\", \"text-center\", \"container\"], [1, \"row\", \"py-lg-5\"], [1, \"col-lg-8\", \"col-md-10\", \"mx-auto\"], [1, \"fw-bold\"], [1, \"lead\", \"text-muted\"], [4, \"ngIf\"], [\"class\", \"album py-3 bg-light\", 4, \"ngIf\"], [\"routerLink\", \"/recipes\", 1, \"btn\", \"btn-primary\", \"my-2\"], [\"routerLink\", \"/my-recipes\", 1, \"btn\", \"btn-secondary\", \"my-2\"], [1, \"album\", \"py-3\", \"bg-light\"], [1, \"container\"], [1, \"text-center\", \"mb-4\"], [1, \"row\", \"row-cols-1\", \"row-cols-sm-2\", \"row-cols-md-3\", \"g-4\"], [\"class\", \"col\", 4, \"ngFor\", \"ngForOf\"], [1, \"col\"], [1, \"card\", \"shadow-sm\"], [\"height\", \"200\", 1, \"card-img-top\", 2, \"object-fit\", \"cover\", 3, \"src\", \"alt\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\", \"text-muted\"], [1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"routerLink\"], [1, \"text-muted\"]],\n      template: function DashboardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"main\")(1, \"section\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"h1\", 3);\n          i0.ɵɵtext(5, \"Welcome to the Recipe App!\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"p\", 4);\n          i0.ɵɵtext(7, \" Discover, share, and manage recipes. Explore collections curated by our users or create your own. Let\\u2019s make cooking fun and collaborative! \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(8, DashboardComponent_p_8_Template, 5, 0, \"p\", 5);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(9, DashboardComponent_div_9_Template, 6, 1, \"div\", 6);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn());\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn());\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i2.RouterLink, i3.SlicePipe],\n      styles: [\"/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkYXNoYm9hcmQuY29tcG9uZW50LmNzcyJ9 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL2FwcHMvbXktYXBwL3NyYy9hcHAvY29tcG9uZW50cy9kYXNoYm9hcmQvZGFzaGJvYXJkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLG9LQUFvSyIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["Router","RecipeService","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵpropertyInterpolate","recipe_r3","imageUrl","ɵɵsanitizeUrl","title","ɵɵtextInterpolate","ɵɵtextInterpolate1","ɵɵpipeBind3","description","ɵɵproperty","ɵɵpureFunction1","_c0","_id","cookingTime","ɵɵtemplate","DashboardComponent_div_9_div_5_Template","ctx_r1","recipes","DashboardComponent","constructor","recipeService","router","ngOnInit","loadRecipes","getRecipes","subscribe","data","console","log","results","Array","isArray","error","isLoggedIn","localStorage","getItem","viewRecipe","id","navigate","editRecipe","isAdmin","ɵɵdirectiveInject","i1","i2","selectors","decls","vars","consts","template","DashboardComponent_Template","rf","ctx","DashboardComponent_p_8_Template","DashboardComponent_div_9_Template"],"sources":["C:\\Users\\salim\\Dev\\avans-nx-workshop-2024\\avans-nx-workshop\\apps\\my-app\\src\\app\\components\\dashboard\\dashboard.component.ts","C:\\Users\\salim\\Dev\\avans-nx-workshop-2024\\avans-nx-workshop\\apps\\my-app\\src\\app\\components\\dashboard\\dashboard.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { RecipeService } from '@avans-nx-workshop/features'; // Zorg ervoor dat je RecipeService importeert\r\nimport { IRecipe, RecipeListResponse } from '@avans-nx-workshop/shared/api'; \r\n\r\n@Component({\r\n    selector: 'avans-nx-workshop-dashboard',\r\n    templateUrl: './dashboard.component.html',\r\n    styleUrls: ['./dashboard.component.css']\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n    recipes: IRecipe[] = [];\r\n\r\n  constructor(private recipeService: RecipeService, private router: Router) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadRecipes();\r\n  }\r\n\r\n  loadRecipes(): void {\r\n    this.recipeService.getRecipes().subscribe((data: RecipeListResponse) => {\r\n      console.log('Fetched recipes:', data);\r\n      if (data && data.results && Array.isArray(data.results)) {\r\n        this.recipes = data.results;  // We gebruiken de array binnen 'results'\r\n      } else {\r\n        console.error('Geen recepten gevonden of verkeerde structuur');\r\n      }\r\n    });\r\n  }\r\n  isLoggedIn(): boolean {\r\n    return !!localStorage.getItem('token'); // Controleer of een token in localStorage is opgeslagen\r\n  }\r\n    viewRecipe(id: string): void {\r\n      this.router.navigate(['/recipes', id]);\r\n    }\r\n  \r\n    editRecipe(id: string): void {\r\n      this.router.navigate(['/recipes', id, 'edit']);\r\n    }\r\n  \r\n    isAdmin(): boolean {\r\n      // Replace with your actual admin check logic\r\n      return localStorage.getItem('role') === 'Admin';\r\n    }\r\n  }","<main>\r\n  <section class=\"py-5 text-center container\">\r\n    <div class=\"row py-lg-5\">\r\n      <div class=\"col-lg-8 col-md-10 mx-auto\">\r\n        <h1 class=\"fw-bold\">Welcome to the Recipe App!</h1>\r\n        <p class=\"lead text-muted\">\r\n          Discover, share, and manage recipes. Explore collections curated by our users or create your own. Let’s make cooking fun and collaborative!\r\n        </p>\r\n        <p  *ngIf=\"isLoggedIn()\">\r\n          <a routerLink=\"/recipes\" class=\"btn btn-primary my-2\">Explore Recipes</a>\r\n          <a routerLink=\"/my-recipes\" class=\"btn btn-secondary my-2\">My Recipes</a>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </section>\r\n\r\n  <div  *ngIf=\"isLoggedIn()\" class=\"album py-3 bg-light\" >\r\n    <div class=\"container\">\r\n      <h2 class=\"text-center mb-4\">Featured Recipes</h2>\r\n      <div class=\"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4\">\r\n        <div class=\"col\" *ngFor=\"let recipe of recipes\">\r\n          <div class=\"card shadow-sm\">\r\n            <img\r\n              src=\"{{ recipe.imageUrl }}\"\r\n              class=\"card-img-top\"\r\n              alt=\"{{ recipe.title }}\"\r\n              height=\"200\"\r\n              style=\"object-fit: cover;\"\r\n            />\r\n            <div class=\"card-body\">\r\n              <h5 class=\"card-title\">{{ recipe.title }}</h5>\r\n              <p class=\"card-text text-muted\">\r\n                {{ recipe.description | slice: 0:100 }}...\r\n              </p>\r\n              <a [routerLink]=\"['/recipes', recipe._id]\" class=\"btn btn-primary btn-sm\">View</a>\r\n              <br>\r\n                <small class=\"text-muted\">{{ recipe.cookingTime }} mins</small>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n</main>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}