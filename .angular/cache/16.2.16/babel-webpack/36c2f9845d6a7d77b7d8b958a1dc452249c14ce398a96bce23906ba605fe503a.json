{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DebugReplFn = void 0;\nconst cli_colors_util_1 = require(\"@nestjs/common/utils/cli-colors.util\");\nconst repl_function_1 = require(\"../repl-function\");\nclass DebugReplFn extends repl_function_1.ReplFunction {\n  constructor() {\n    super(...arguments);\n    this.fnDefinition = {\n      name: 'debug',\n      description: 'Print all registered modules as a list together with their controllers and providers.\\nIf the argument is passed in, for example, \"debug(MyModule)\" then it will only print components of this specific module.',\n      signature: '(moduleCls?: ClassRef | string) => void'\n    };\n  }\n  action(moduleCls) {\n    this.ctx.writeToStdout('\\n');\n    if (moduleCls) {\n      const token = typeof moduleCls === 'function' ? moduleCls.name : moduleCls;\n      const moduleEntry = this.ctx.debugRegistry[token];\n      if (!moduleEntry) {\n        return this.logger.error(`\"${token}\" has not been found in the modules registry`);\n      }\n      this.printCtrlsAndProviders(token, moduleEntry);\n    } else {\n      Object.keys(this.ctx.debugRegistry).forEach(moduleKey => {\n        this.printCtrlsAndProviders(moduleKey, this.ctx.debugRegistry[moduleKey]);\n      });\n    }\n    this.ctx.writeToStdout('\\n');\n  }\n  printCtrlsAndProviders(moduleName, moduleDebugEntry) {\n    this.ctx.writeToStdout(`${cli_colors_util_1.clc.green(moduleName)}:\\n`);\n    this.printCollection('controllers', moduleDebugEntry['controllers']);\n    this.printCollection('providers', moduleDebugEntry['providers']);\n  }\n  printCollection(title, collectionValue) {\n    const collectionEntries = Object.keys(collectionValue);\n    if (collectionEntries.length <= 0) {\n      return;\n    }\n    this.ctx.writeToStdout(` ${cli_colors_util_1.clc.yellow(`- ${title}`)}:\\n`);\n    collectionEntries.forEach(provider => this.ctx.writeToStdout(`  ${cli_colors_util_1.clc.green('◻')} ${provider}\\n`));\n  }\n}\nexports.DebugReplFn = DebugReplFn;","map":{"version":3,"names":["Object","defineProperty","exports","value","DebugReplFn","cli_colors_util_1","require","repl_function_1","ReplFunction","constructor","arguments","fnDefinition","name","description","signature","action","moduleCls","ctx","writeToStdout","token","moduleEntry","debugRegistry","logger","error","printCtrlsAndProviders","keys","forEach","moduleKey","moduleName","moduleDebugEntry","clc","green","printCollection","title","collectionValue","collectionEntries","length","yellow","provider"],"sources":["C:/Users/salim/Dev/avans-nx-workshop-2024/avans-nx-workshop/node_modules/@nestjs/core/repl/native-functions/debug-repl-fn.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DebugReplFn = void 0;\nconst cli_colors_util_1 = require(\"@nestjs/common/utils/cli-colors.util\");\nconst repl_function_1 = require(\"../repl-function\");\nclass DebugReplFn extends repl_function_1.ReplFunction {\n    constructor() {\n        super(...arguments);\n        this.fnDefinition = {\n            name: 'debug',\n            description: 'Print all registered modules as a list together with their controllers and providers.\\nIf the argument is passed in, for example, \"debug(MyModule)\" then it will only print components of this specific module.',\n            signature: '(moduleCls?: ClassRef | string) => void',\n        };\n    }\n    action(moduleCls) {\n        this.ctx.writeToStdout('\\n');\n        if (moduleCls) {\n            const token = typeof moduleCls === 'function' ? moduleCls.name : moduleCls;\n            const moduleEntry = this.ctx.debugRegistry[token];\n            if (!moduleEntry) {\n                return this.logger.error(`\"${token}\" has not been found in the modules registry`);\n            }\n            this.printCtrlsAndProviders(token, moduleEntry);\n        }\n        else {\n            Object.keys(this.ctx.debugRegistry).forEach(moduleKey => {\n                this.printCtrlsAndProviders(moduleKey, this.ctx.debugRegistry[moduleKey]);\n            });\n        }\n        this.ctx.writeToStdout('\\n');\n    }\n    printCtrlsAndProviders(moduleName, moduleDebugEntry) {\n        this.ctx.writeToStdout(`${cli_colors_util_1.clc.green(moduleName)}:\\n`);\n        this.printCollection('controllers', moduleDebugEntry['controllers']);\n        this.printCollection('providers', moduleDebugEntry['providers']);\n    }\n    printCollection(title, collectionValue) {\n        const collectionEntries = Object.keys(collectionValue);\n        if (collectionEntries.length <= 0) {\n            return;\n        }\n        this.ctx.writeToStdout(` ${cli_colors_util_1.clc.yellow(`- ${title}`)}:\\n`);\n        collectionEntries.forEach(provider => this.ctx.writeToStdout(`  ${cli_colors_util_1.clc.green('◻')} ${provider}\\n`));\n    }\n}\nexports.DebugReplFn = DebugReplFn;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,WAAW,GAAG,KAAK,CAAC;AAC5B,MAAMC,iBAAiB,GAAGC,OAAO,CAAC,sCAAsC,CAAC;AACzE,MAAMC,eAAe,GAAGD,OAAO,CAAC,kBAAkB,CAAC;AACnD,MAAMF,WAAW,SAASG,eAAe,CAACC,YAAY,CAAC;EACnDC,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAGC,SAAS,CAAC;IACnB,IAAI,CAACC,YAAY,GAAG;MAChBC,IAAI,EAAE,OAAO;MACbC,WAAW,EAAE,iNAAiN;MAC9NC,SAAS,EAAE;IACf,CAAC;EACL;EACAC,MAAMA,CAACC,SAAS,EAAE;IACd,IAAI,CAACC,GAAG,CAACC,aAAa,CAAC,IAAI,CAAC;IAC5B,IAAIF,SAAS,EAAE;MACX,MAAMG,KAAK,GAAG,OAAOH,SAAS,KAAK,UAAU,GAAGA,SAAS,CAACJ,IAAI,GAAGI,SAAS;MAC1E,MAAMI,WAAW,GAAG,IAAI,CAACH,GAAG,CAACI,aAAa,CAACF,KAAK,CAAC;MACjD,IAAI,CAACC,WAAW,EAAE;QACd,OAAO,IAAI,CAACE,MAAM,CAACC,KAAK,CAAE,IAAGJ,KAAM,8CAA6C,CAAC;MACrF;MACA,IAAI,CAACK,sBAAsB,CAACL,KAAK,EAAEC,WAAW,CAAC;IACnD,CAAC,MACI;MACDpB,MAAM,CAACyB,IAAI,CAAC,IAAI,CAACR,GAAG,CAACI,aAAa,CAAC,CAACK,OAAO,CAACC,SAAS,IAAI;QACrD,IAAI,CAACH,sBAAsB,CAACG,SAAS,EAAE,IAAI,CAACV,GAAG,CAACI,aAAa,CAACM,SAAS,CAAC,CAAC;MAC7E,CAAC,CAAC;IACN;IACA,IAAI,CAACV,GAAG,CAACC,aAAa,CAAC,IAAI,CAAC;EAChC;EACAM,sBAAsBA,CAACI,UAAU,EAAEC,gBAAgB,EAAE;IACjD,IAAI,CAACZ,GAAG,CAACC,aAAa,CAAE,GAAEb,iBAAiB,CAACyB,GAAG,CAACC,KAAK,CAACH,UAAU,CAAE,KAAI,CAAC;IACvE,IAAI,CAACI,eAAe,CAAC,aAAa,EAAEH,gBAAgB,CAAC,aAAa,CAAC,CAAC;IACpE,IAAI,CAACG,eAAe,CAAC,WAAW,EAAEH,gBAAgB,CAAC,WAAW,CAAC,CAAC;EACpE;EACAG,eAAeA,CAACC,KAAK,EAAEC,eAAe,EAAE;IACpC,MAAMC,iBAAiB,GAAGnC,MAAM,CAACyB,IAAI,CAACS,eAAe,CAAC;IACtD,IAAIC,iBAAiB,CAACC,MAAM,IAAI,CAAC,EAAE;MAC/B;IACJ;IACA,IAAI,CAACnB,GAAG,CAACC,aAAa,CAAE,IAAGb,iBAAiB,CAACyB,GAAG,CAACO,MAAM,CAAE,KAAIJ,KAAM,EAAC,CAAE,KAAI,CAAC;IAC3EE,iBAAiB,CAACT,OAAO,CAACY,QAAQ,IAAI,IAAI,CAACrB,GAAG,CAACC,aAAa,CAAE,KAAIb,iBAAiB,CAACyB,GAAG,CAACC,KAAK,CAAC,GAAG,CAAE,IAAGO,QAAS,IAAG,CAAC,CAAC;EACxH;AACJ;AACApC,OAAO,CAACE,WAAW,GAAGA,WAAW","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}