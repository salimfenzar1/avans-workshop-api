{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { RecipeService } from '@avans-nx-workshop/features'; // Zorg ervoor dat je RecipeService importeert\nexport let DashboardComponent = class DashboardComponent {\n  constructor(recipeService, router) {\n    this.recipeService = recipeService;\n    this.router = router;\n    this.recipes = [];\n  }\n  ngOnInit() {\n    this.loadRecipes();\n  }\n  loadRecipes() {\n    this.recipeService.getRecipes().subscribe(data => {\n      console.log('Fetched recipes:', data);\n      if (data && data.results && Array.isArray(data.results)) {\n        this.recipes = data.results; // We gebruiken de array binnen 'results'\n      } else {\n        console.error('Geen recepten gevonden of verkeerde structuur');\n      }\n    });\n  }\n  isLoggedIn() {\n    return !!localStorage.getItem('token'); // Controleer of een token in localStorage is opgeslagen\n  }\n\n  viewRecipe(id) {\n    this.router.navigate(['/recipes', id]);\n  }\n  editRecipe(id) {\n    this.router.navigate(['/recipes', id, 'edit']);\n  }\n  isAdmin() {\n    // Replace with your actual admin check logic\n    return localStorage.getItem('role') === 'Admin';\n  }\n};\nDashboardComponent = __decorate([Component({\n  selector: 'avans-nx-workshop-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n}), __metadata(\"design:paramtypes\", [RecipeService, Router])], DashboardComponent);","map":{"version":3,"names":["Component","Router","RecipeService","DashboardComponent","constructor","recipeService","router","recipes","ngOnInit","loadRecipes","getRecipes","subscribe","data","console","log","results","Array","isArray","error","isLoggedIn","localStorage","getItem","viewRecipe","id","navigate","editRecipe","isAdmin","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\salim\\Dev\\avans-nx-workshop-2024\\avans-nx-workshop\\apps\\my-app\\src\\app\\components\\dashboard\\dashboard.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { RecipeService } from '@avans-nx-workshop/features'; // Zorg ervoor dat je RecipeService importeert\r\nimport { IRecipe, RecipeListResponse } from '@avans-nx-workshop/shared/api'; \r\n\r\n@Component({\r\n    selector: 'avans-nx-workshop-dashboard',\r\n    templateUrl: './dashboard.component.html',\r\n    styleUrls: ['./dashboard.component.css']\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n    recipes: IRecipe[] = [];\r\n\r\n  constructor(private recipeService: RecipeService, private router: Router) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadRecipes();\r\n  }\r\n\r\n  loadRecipes(): void {\r\n    this.recipeService.getRecipes().subscribe((data: RecipeListResponse) => {\r\n      console.log('Fetched recipes:', data);\r\n      if (data && data.results && Array.isArray(data.results)) {\r\n        this.recipes = data.results;  // We gebruiken de array binnen 'results'\r\n      } else {\r\n        console.error('Geen recepten gevonden of verkeerde structuur');\r\n      }\r\n    });\r\n  }\r\n  isLoggedIn(): boolean {\r\n    return !!localStorage.getItem('token'); // Controleer of een token in localStorage is opgeslagen\r\n  }\r\n    viewRecipe(id: string): void {\r\n      this.router.navigate(['/recipes', id]);\r\n    }\r\n  \r\n    editRecipe(id: string): void {\r\n      this.router.navigate(['/recipes', id, 'edit']);\r\n    }\r\n  \r\n    isAdmin(): boolean {\r\n      // Replace with your actual admin check logic\r\n      return localStorage.getItem('role') === 'Admin';\r\n    }\r\n  }"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,MAAM,QAAQ,iBAAiB;AACxC,SAASC,aAAa,QAAQ,6BAA6B,CAAC,CAAC;AAQtD,WAAMC,kBAAkB,GAAxB,MAAMA,kBAAkB;EAG7BC,YAAoBC,aAA4B,EAAUC,MAAc;IAApD,KAAAD,aAAa,GAAbA,aAAa;IAAyB,KAAAC,MAAM,GAANA,MAAM;IAF9D,KAAAC,OAAO,GAAc,EAAE;EAEkD;EAE3EC,QAAQA,CAAA;IACN,IAAI,CAACC,WAAW,EAAE;EACpB;EAEAA,WAAWA,CAAA;IACT,IAAI,CAACJ,aAAa,CAACK,UAAU,EAAE,CAACC,SAAS,CAAEC,IAAwB,IAAI;MACrEC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEF,IAAI,CAAC;MACrC,IAAIA,IAAI,IAAIA,IAAI,CAACG,OAAO,IAAIC,KAAK,CAACC,OAAO,CAACL,IAAI,CAACG,OAAO,CAAC,EAAE;QACvD,IAAI,CAACR,OAAO,GAAGK,IAAI,CAACG,OAAO,CAAC,CAAE;OAC/B,MAAM;QACLF,OAAO,CAACK,KAAK,CAAC,+CAA+C,CAAC;;IAElE,CAAC,CAAC;EACJ;EACAC,UAAUA,CAAA;IACR,OAAO,CAAC,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;EAC1C;;EACEC,UAAUA,CAACC,EAAU;IACnB,IAAI,CAACjB,MAAM,CAACkB,QAAQ,CAAC,CAAC,UAAU,EAAED,EAAE,CAAC,CAAC;EACxC;EAEAE,UAAUA,CAACF,EAAU;IACnB,IAAI,CAACjB,MAAM,CAACkB,QAAQ,CAAC,CAAC,UAAU,EAAED,EAAE,EAAE,MAAM,CAAC,CAAC;EAChD;EAEAG,OAAOA,CAAA;IACL;IACA,OAAON,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,KAAK,OAAO;EACjD;CACD;AAlCUlB,kBAAkB,GAAAwB,UAAA,EAL9B3B,SAAS,CAAC;EACP4B,QAAQ,EAAE,6BAA6B;EACvCC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CAC1C,CAAC,E,iCAImC5B,aAAa,EAAkBD,MAAM,G,EAH7DE,kBAAkB,CAkC5B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}