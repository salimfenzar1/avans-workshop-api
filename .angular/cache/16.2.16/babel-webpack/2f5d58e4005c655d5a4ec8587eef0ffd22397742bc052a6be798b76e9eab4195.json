{"ast":null,"code":"import { RecipeService } from '@avans-nx-workshop/features';\nimport { Router } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@avans-nx-workshop/features\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction RecipesComponent_div_20_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 20);\n  }\n  if (rf & 2) {\n    const recipe_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate(\"alt\", recipe_r1.title);\n    i0.ɵɵproperty(\"src\", recipe_r1.imageUrl, i0.ɵɵsanitizeUrl);\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/recipes\", a1];\n};\nfunction RecipesComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14);\n    i0.ɵɵtemplate(2, RecipesComponent_div_20_img_2_Template, 1, 2, \"img\", 15);\n    i0.ɵɵelementStart(3, \"div\", 16)(4, \"h5\", 17);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 18);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"slice\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"a\", 19);\n    i0.ɵɵtext(10, \"View\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const recipe_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", recipe_r1.imageUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(recipe_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind3(8, 4, recipe_r1.description, 0, 100), \"...\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(8, _c0, recipe_r1._id));\n  }\n}\nexport class RecipesComponent {\n  constructor(recipeService, router) {\n    this.recipeService = recipeService;\n    this.router = router;\n    this.recipes = [];\n    this.filteredRecipes = [];\n    this.searchQuery = '';\n    this.selectedTimeFilter = '';\n  }\n  ngOnInit() {\n    this.loadRecipes();\n  }\n  loadRecipes() {\n    this.recipeService.getRecipes().subscribe(data => {\n      console.log('Fetched recipes:', data);\n      if (data && data.results && Array.isArray(data.results)) {\n        this.recipes = data.results; // We gebruiken de array binnen 'results'\n        this.filteredRecipes = [...this.recipes];\n      } else {\n        console.error('Geen recepten gevonden of verkeerde structuur');\n      }\n    });\n  }\n  filterRecipes() {\n    this.filteredRecipes = this.recipes.filter(recipe => {\n      const matchesSearchQuery = recipe.title.toLowerCase().includes(this.searchQuery.toLowerCase()) || recipe.description.toLowerCase().includes(this.searchQuery.toLowerCase());\n      const matchesTimeFilter = !this.selectedTimeFilter || this.selectedTimeFilter === '30' && recipe.cookingTime <= 30 || this.selectedTimeFilter === '60' && recipe.cookingTime <= 60 || this.selectedTimeFilter === '120' && recipe.cookingTime <= 120;\n      return matchesSearchQuery && matchesTimeFilter;\n    });\n  }\n  addRecipe() {\n    this.router.navigate(['/recipes/add']);\n  }\n  static {\n    this.ɵfac = function RecipesComponent_Factory(t) {\n      return new (t || RecipesComponent)(i0.ɵɵdirectiveInject(i1.RecipeService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: RecipesComponent,\n      selectors: [[\"app-recipes\"]],\n      decls: 21,\n      vars: 3,\n      consts: [[1, \"container\", \"mt-4\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\"], [\"routerLink\", \"/recipes/add\", 1, \"btn\", \"btn-primary\", \"mb-3\"], [1, \"row\", \"mb-4\"], [1, \"col-md-6\"], [\"type\", \"text\", \"placeholder\", \"Search Recipes...\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\"], [\"value\", \"30\"], [\"value\", \"60\"], [\"value\", \"120\"], [1, \"row\"], [\"class\", \"col-md-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-4\"], [1, \"card\", \"mb-3\", \"shadow-sm\"], [\"class\", \"card-img-top\", \"style\", \"height: 200px; object-fit: cover;\", 3, \"src\", \"alt\", 4, \"ngIf\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"], [1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"routerLink\"], [1, \"card-img-top\", 2, \"height\", \"200px\", \"object-fit\", \"cover\", 3, \"src\", \"alt\"]],\n      template: function RecipesComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n          i0.ɵɵtext(3, \"Recipes\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"a\", 2);\n          i0.ɵɵtext(5, \"Add Recipe\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"div\", 3)(7, \"div\", 4)(8, \"input\", 5);\n          i0.ɵɵlistener(\"ngModelChange\", function RecipesComponent_Template_input_ngModelChange_8_listener($event) {\n            return ctx.searchQuery = $event;\n          })(\"ngModelChange\", function RecipesComponent_Template_input_ngModelChange_8_listener() {\n            return ctx.filterRecipes();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(9, \"div\", 4)(10, \"select\", 6);\n          i0.ɵɵlistener(\"ngModelChange\", function RecipesComponent_Template_select_ngModelChange_10_listener($event) {\n            return ctx.selectedTimeFilter = $event;\n          })(\"ngModelChange\", function RecipesComponent_Template_select_ngModelChange_10_listener() {\n            return ctx.filterRecipes();\n          });\n          i0.ɵɵelementStart(11, \"option\", 7);\n          i0.ɵɵtext(12, \"All Times\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"option\", 8);\n          i0.ɵɵtext(14, \"Tot 30 minutes\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"option\", 9);\n          i0.ɵɵtext(16, \"Tot 60 minuten\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"option\", 10);\n          i0.ɵɵtext(18, \"Tot 120 minuten\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(19, \"div\", 11);\n          i0.ɵɵtemplate(20, RecipesComponent_div_20_Template, 11, 10, \"div\", 12);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngModel\", ctx.searchQuery);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngModel\", ctx.selectedTimeFilter);\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"ngForOf\", ctx.filteredRecipes);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i2.RouterLink, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel, i3.SlicePipe],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["RecipeService","Router","i0","ɵɵelement","ɵɵpropertyInterpolate","recipe_r1","title","ɵɵproperty","imageUrl","ɵɵsanitizeUrl","ɵɵelementStart","ɵɵtemplate","RecipesComponent_div_20_img_2_Template","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ɵɵtextInterpolate1","ɵɵpipeBind3","description","ɵɵpureFunction1","_c0","_id","RecipesComponent","constructor","recipeService","router","recipes","filteredRecipes","searchQuery","selectedTimeFilter","ngOnInit","loadRecipes","getRecipes","subscribe","data","console","log","results","Array","isArray","error","filterRecipes","filter","recipe","matchesSearchQuery","toLowerCase","includes","matchesTimeFilter","cookingTime","addRecipe","navigate","ɵɵdirectiveInject","i1","i2","selectors","decls","vars","consts","template","RecipesComponent_Template","rf","ctx","ɵɵlistener","RecipesComponent_Template_input_ngModelChange_8_listener","$event","RecipesComponent_Template_select_ngModelChange_10_listener","RecipesComponent_div_20_Template"],"sources":["C:\\Users\\salim\\Dev\\avans-nx-workshop-2024\\avans-nx-workshop\\apps\\my-app\\src\\app\\components\\recipe\\recipe.component.ts","C:\\Users\\salim\\Dev\\avans-nx-workshop-2024\\avans-nx-workshop\\apps\\my-app\\src\\app\\components\\recipe\\recipe.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { RecipeService } from '@avans-nx-workshop/features';\r\nimport { IRecipe, RecipeListResponse } from '@avans-nx-workshop/shared/api';\r\nimport { Router } from '@angular/router'; \r\n\r\n@Component({\r\n  selector: 'app-recipes', \r\n  templateUrl: './recipe.component.html',\r\n  styleUrls: [], \r\n})\r\nexport class RecipesComponent implements OnInit {\r\n  recipes: IRecipe[] = [];\r\n  filteredRecipes: IRecipe[] = [];\r\n  searchQuery: string = '';\r\n  selectedTimeFilter: string = '';\r\n\r\n  constructor(private recipeService: RecipeService, private router: Router) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadRecipes();\r\n  }\r\n\r\n  loadRecipes(): void {\r\n    this.recipeService.getRecipes().subscribe((data: RecipeListResponse) => {\r\n      console.log('Fetched recipes:', data);\r\n      if (data && data.results && Array.isArray(data.results)) {\r\n        this.recipes = data.results;  // We gebruiken de array binnen 'results'\r\n        this.filteredRecipes = [...this.recipes]; \r\n      } else {\r\n        console.error('Geen recepten gevonden of verkeerde structuur');\r\n      }\r\n    });\r\n  }\r\n  filterRecipes(): void {\r\n    this.filteredRecipes = this.recipes.filter((recipe) => {\r\n      const matchesSearchQuery =\r\n        recipe.title.toLowerCase().includes(this.searchQuery.toLowerCase()) ||\r\n        recipe.description.toLowerCase().includes(this.searchQuery.toLowerCase());\r\n\r\n      const matchesTimeFilter =\r\n        !this.selectedTimeFilter ||\r\n        (this.selectedTimeFilter === '30' && recipe.cookingTime <= 30) ||\r\n        (this.selectedTimeFilter === '60' && recipe.cookingTime <= 60) ||\r\n        (this.selectedTimeFilter === '120' && recipe.cookingTime <= 120);\r\n\r\n      return matchesSearchQuery && matchesTimeFilter;\r\n    });\r\n  }\r\n  \r\n  \r\n  addRecipe(): void {\r\n    this.router.navigate(['/recipes/add']);\r\n  }\r\n}\r\n","<div class=\"container mt-4\">\r\n    <div class=\"d-flex justify-content-between align-items-center mb-4\">\r\n      <h1>Recipes</h1>\r\n      <a routerLink=\"/recipes/add\" class=\"btn btn-primary mb-3\">Add Recipe</a>\r\n    </div>\r\n    \r\n    <div class=\"row mb-4\">\r\n      <div class=\"col-md-6\">\r\n        <!-- Search Bar -->\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          placeholder=\"Search Recipes...\"\r\n          [(ngModel)]=\"searchQuery\"\r\n          (ngModelChange)=\"filterRecipes()\"\r\n        />\r\n      </div>\r\n      <div class=\"col-md-6\">\r\n        <!-- Filters (example filter for cooking time) -->\r\n        <select class=\"form-select\" [(ngModel)]=\"selectedTimeFilter\" (ngModelChange)=\"filterRecipes()\">\r\n          <option value=\"\">All Times</option>\r\n          <option value=\"30\">Tot 30 minutes</option>\r\n          <option value=\"60\">Tot 60 minuten</option>\r\n          <option value=\"120\">Tot 120 minuten</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  \r\n    <div class=\"row\">\r\n      <div *ngFor=\"let recipe of filteredRecipes\" class=\"col-md-4\">\r\n        <div class=\"card mb-3 shadow-sm\">\r\n          <img\r\n            *ngIf=\"recipe.imageUrl\"\r\n            [src]=\"recipe.imageUrl\"\r\n            class=\"card-img-top\"\r\n            alt=\"{{ recipe.title }}\"\r\n            style=\"height: 200px; object-fit: cover;\"\r\n          />\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">{{ recipe.title }}</h5>\r\n            <p class=\"card-text\">{{ recipe.description | slice: 0:100 }}...</p>\r\n            <a [routerLink]=\"['/recipes', recipe._id]\" class=\"btn btn-primary btn-sm\">View</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}