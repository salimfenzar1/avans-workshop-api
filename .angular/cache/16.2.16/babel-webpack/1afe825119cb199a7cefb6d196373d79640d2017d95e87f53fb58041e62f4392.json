{"ast":null,"code":"import { Router } from '@angular/router';\nimport { RecipeService } from '@avans-nx-workshop/features'; // Zorg ervoor dat je RecipeService importeert\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@avans-nx-workshop/features\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = function (a1) {\n  return [\"/recipes\", a1];\n};\nfunction DashboardComponent_div_13_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14);\n    i0.ɵɵelement(2, \"img\", 15);\n    i0.ɵɵelementStart(3, \"div\", 16)(4, \"h5\", 17);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 18);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"slice\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"a\", 19);\n    i0.ɵɵtext(10, \"View\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"br\");\n    i0.ɵɵelementStart(12, \"small\", 20);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const recipe_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", recipe_r2.imageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"alt\", recipe_r2.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(recipe_r2.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind3(8, 6, recipe_r2.description, 0, 100), \"... \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(10, _c0, recipe_r2._id));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", recipe_r2.cookingTime, \" mins\");\n  }\n}\nfunction DashboardComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"h2\", 10);\n    i0.ɵɵtext(3, \"Featured Recipes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 11);\n    i0.ɵɵtemplate(5, DashboardComponent_div_13_div_5_Template, 14, 12, \"div\", 12);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.recipes);\n  }\n}\nexport class DashboardComponent {\n  constructor(recipeService, router) {\n    this.recipeService = recipeService;\n    this.router = router;\n    this.recipes = [];\n  }\n  ngOnInit() {\n    this.loadRecipes();\n  }\n  loadRecipes() {\n    this.recipeService.getRecipes().subscribe(data => {\n      console.log('Fetched recipes:', data);\n      if (data && data.results && Array.isArray(data.results)) {\n        this.recipes = data.results; // We gebruiken de array binnen 'results'\n      } else {\n        console.error('Geen recepten gevonden of verkeerde structuur');\n      }\n    });\n  }\n  isLoggedIn() {\n    return !!localStorage.getItem('token'); // Controleer of een token in localStorage is opgeslagen\n  }\n\n  viewRecipe(id) {\n    this.router.navigate(['/recipes', id]);\n  }\n  editRecipe(id) {\n    this.router.navigate(['/recipes', id, 'edit']);\n  }\n  isAdmin() {\n    // Replace with your actual admin check logic\n    return localStorage.getItem('role') === 'Admin';\n  }\n  static {\n    this.ɵfac = function DashboardComponent_Factory(t) {\n      return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.RecipeService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DashboardComponent,\n      selectors: [[\"avans-nx-workshop-dashboard\"]],\n      decls: 14,\n      vars: 1,\n      consts: [[1, \"py-5\", \"text-center\", \"container\"], [1, \"row\", \"py-lg-5\"], [1, \"col-lg-8\", \"col-md-10\", \"mx-auto\"], [1, \"fw-bold\"], [1, \"lead\", \"text-muted\"], [\"routerLink\", \"/recipes\", 1, \"btn\", \"btn-primary\", \"my-2\"], [\"routerLink\", \"/my-recipes\", 1, \"btn\", \"btn-secondary\", \"my-2\"], [\"class\", \"album py-3 bg-light\", 4, \"ngIf\"], [1, \"album\", \"py-3\", \"bg-light\"], [1, \"container\"], [1, \"text-center\", \"mb-4\"], [1, \"row\", \"row-cols-1\", \"row-cols-sm-2\", \"row-cols-md-3\", \"g-4\"], [\"class\", \"col\", 4, \"ngFor\", \"ngForOf\"], [1, \"col\"], [1, \"card\", \"shadow-sm\"], [\"height\", \"200\", 1, \"card-img-top\", 2, \"object-fit\", \"cover\", 3, \"src\", \"alt\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\", \"text-muted\"], [1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"routerLink\"], [1, \"text-muted\"]],\n      template: function DashboardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"main\")(1, \"section\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"h1\", 3);\n          i0.ɵɵtext(5, \"Welcome to the Recipe App!\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"p\", 4);\n          i0.ɵɵtext(7, \" Discover, share, and manage recipes. Explore collections curated by our users or create your own. Let\\u2019s make cooking fun and collaborative! \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"p\")(9, \"a\", 5);\n          i0.ɵɵtext(10, \"Explore Recipes\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"a\", 6);\n          i0.ɵɵtext(12, \"My Recipes\");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵtemplate(13, DashboardComponent_div_13_Template, 6, 1, \"div\", 7);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn());\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i2.RouterLink, i3.SlicePipe],\n      styles: [\"/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkYXNoYm9hcmQuY29tcG9uZW50LmNzcyJ9 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL2FwcHMvbXktYXBwL3NyYy9hcHAvY29tcG9uZW50cy9kYXNoYm9hcmQvZGFzaGJvYXJkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLG9LQUFvSyIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["Router","RecipeService","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵpropertyInterpolate","recipe_r2","imageUrl","ɵɵsanitizeUrl","title","ɵɵtextInterpolate","ɵɵtextInterpolate1","ɵɵpipeBind3","description","ɵɵproperty","ɵɵpureFunction1","_c0","_id","cookingTime","ɵɵtemplate","DashboardComponent_div_13_div_5_Template","ctx_r0","recipes","DashboardComponent","constructor","recipeService","router","ngOnInit","loadRecipes","getRecipes","subscribe","data","console","log","results","Array","isArray","error","isLoggedIn","localStorage","getItem","viewRecipe","id","navigate","editRecipe","isAdmin","ɵɵdirectiveInject","i1","i2","selectors","decls","vars","consts","template","DashboardComponent_Template","rf","ctx","DashboardComponent_div_13_Template"],"sources":["C:\\Users\\salim\\Dev\\avans-nx-workshop-2024\\avans-nx-workshop\\apps\\my-app\\src\\app\\components\\dashboard\\dashboard.component.ts","C:\\Users\\salim\\Dev\\avans-nx-workshop-2024\\avans-nx-workshop\\apps\\my-app\\src\\app\\components\\dashboard\\dashboard.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { RecipeService } from '@avans-nx-workshop/features'; // Zorg ervoor dat je RecipeService importeert\nimport { IRecipe, RecipeListResponse } from '@avans-nx-workshop/shared/api'; \n\n@Component({\n    selector: 'avans-nx-workshop-dashboard',\n    templateUrl: './dashboard.component.html',\n    styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit {\n    recipes: IRecipe[] = [];\n\n  constructor(private recipeService: RecipeService, private router: Router) {}\n\n  ngOnInit(): void {\n    this.loadRecipes();\n  }\n\n  loadRecipes(): void {\n    this.recipeService.getRecipes().subscribe((data: RecipeListResponse) => {\n      console.log('Fetched recipes:', data);\n      if (data && data.results && Array.isArray(data.results)) {\n        this.recipes = data.results;  // We gebruiken de array binnen 'results'\n      } else {\n        console.error('Geen recepten gevonden of verkeerde structuur');\n      }\n    });\n  }\n  isLoggedIn(): boolean {\n    return !!localStorage.getItem('token'); // Controleer of een token in localStorage is opgeslagen\n  }\n    viewRecipe(id: string): void {\n      this.router.navigate(['/recipes', id]);\n    }\n  \n    editRecipe(id: string): void {\n      this.router.navigate(['/recipes', id, 'edit']);\n    }\n  \n    isAdmin(): boolean {\n      // Replace with your actual admin check logic\n      return localStorage.getItem('role') === 'Admin';\n    }\n  }","<main>\r\n  <section class=\"py-5 text-center container\">\r\n    <div class=\"row py-lg-5\">\r\n      <div class=\"col-lg-8 col-md-10 mx-auto\">\r\n        <h1 class=\"fw-bold\">Welcome to the Recipe App!</h1>\r\n        <p class=\"lead text-muted\">\r\n          Discover, share, and manage recipes. Explore collections curated by our users or create your own. Let’s make cooking fun and collaborative!\r\n        </p>\r\n        <p>\r\n          <a routerLink=\"/recipes\" class=\"btn btn-primary my-2\">Explore Recipes</a>\r\n          <a routerLink=\"/my-recipes\" class=\"btn btn-secondary my-2\">My Recipes</a>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </section>\r\n\r\n  <div  *ngIf=\"isLoggedIn()\" class=\"album py-3 bg-light\" >\r\n    <div class=\"container\">\r\n      <h2 class=\"text-center mb-4\">Featured Recipes</h2>\r\n      <div class=\"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4\">\r\n        <div class=\"col\" *ngFor=\"let recipe of recipes\">\r\n          <div class=\"card shadow-sm\">\r\n            <img\r\n              src=\"{{ recipe.imageUrl }}\"\r\n              class=\"card-img-top\"\r\n              alt=\"{{ recipe.title }}\"\r\n              height=\"200\"\r\n              style=\"object-fit: cover;\"\r\n            />\r\n            <div class=\"card-body\">\r\n              <h5 class=\"card-title\">{{ recipe.title }}</h5>\r\n              <p class=\"card-text text-muted\">\r\n                {{ recipe.description | slice: 0:100 }}...\r\n              </p>\r\n              <a [routerLink]=\"['/recipes', recipe._id]\" class=\"btn btn-primary btn-sm\">View</a>\r\n              <br>\r\n                <small class=\"text-muted\">{{ recipe.cookingTime }} mins</small>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n</main>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}