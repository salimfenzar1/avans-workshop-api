{"ast":null,"code":"\"use strict\";\n\nvar _asyncToGenerator = require(\"C:/Users/salim/Dev/avans-nx-workshop-2024/avans-nx-workshop/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ModuleCompiler = void 0;\nconst module_token_factory_1 = require(\"./module-token-factory\");\nclass ModuleCompiler {\n  constructor(moduleTokenFactory = new module_token_factory_1.ModuleTokenFactory()) {\n    this.moduleTokenFactory = moduleTokenFactory;\n  }\n  compile(metatype) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const {\n        type,\n        dynamicMetadata\n      } = _this.extractMetadata(yield metatype);\n      const token = _this.moduleTokenFactory.create(type, dynamicMetadata);\n      return {\n        type,\n        dynamicMetadata,\n        token\n      };\n    })();\n  }\n  extractMetadata(metatype) {\n    if (!this.isDynamicModule(metatype)) {\n      return {\n        type: metatype?.forwardRef ? metatype.forwardRef() : metatype\n      };\n    }\n    const {\n      module: type,\n      ...dynamicMetadata\n    } = metatype;\n    return {\n      type,\n      dynamicMetadata\n    };\n  }\n  isDynamicModule(module) {\n    return !!module.module;\n  }\n}\nexports.ModuleCompiler = ModuleCompiler;","map":{"version":3,"names":["_asyncToGenerator","require","default","Object","defineProperty","exports","value","ModuleCompiler","module_token_factory_1","constructor","moduleTokenFactory","ModuleTokenFactory","compile","metatype","_this","type","dynamicMetadata","extractMetadata","token","create","isDynamicModule","forwardRef","module"],"sources":["C:/Users/salim/Dev/avans-nx-workshop-2024/avans-nx-workshop/node_modules/@nestjs/core/injector/compiler.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ModuleCompiler = void 0;\nconst module_token_factory_1 = require(\"./module-token-factory\");\nclass ModuleCompiler {\n    constructor(moduleTokenFactory = new module_token_factory_1.ModuleTokenFactory()) {\n        this.moduleTokenFactory = moduleTokenFactory;\n    }\n    async compile(metatype) {\n        const { type, dynamicMetadata } = this.extractMetadata(await metatype);\n        const token = this.moduleTokenFactory.create(type, dynamicMetadata);\n        return { type, dynamicMetadata, token };\n    }\n    extractMetadata(metatype) {\n        if (!this.isDynamicModule(metatype)) {\n            return {\n                type: metatype?.forwardRef\n                    ? metatype.forwardRef()\n                    : metatype,\n            };\n        }\n        const { module: type, ...dynamicMetadata } = metatype;\n        return { type, dynamicMetadata };\n    }\n    isDynamicModule(module) {\n        return !!module.module;\n    }\n}\nexports.ModuleCompiler = ModuleCompiler;\n"],"mappings":"AAAA,YAAY;;AAAC,IAAAA,iBAAA,GAAAC,OAAA,wHAAAC,OAAA;AACbC,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,cAAc,GAAG,KAAK,CAAC;AAC/B,MAAMC,sBAAsB,GAAGP,OAAO,CAAC,wBAAwB,CAAC;AAChE,MAAMM,cAAc,CAAC;EACjBE,WAAWA,CAACC,kBAAkB,GAAG,IAAIF,sBAAsB,CAACG,kBAAkB,CAAC,CAAC,EAAE;IAC9E,IAAI,CAACD,kBAAkB,GAAGA,kBAAkB;EAChD;EACME,OAAOA,CAACC,QAAQ,EAAE;IAAA,IAAAC,KAAA;IAAA,OAAAd,iBAAA;MACpB,MAAM;QAAEe,IAAI;QAAEC;MAAgB,CAAC,GAAGF,KAAI,CAACG,eAAe,OAAOJ,QAAQ,CAAC;MACtE,MAAMK,KAAK,GAAGJ,KAAI,CAACJ,kBAAkB,CAACS,MAAM,CAACJ,IAAI,EAAEC,eAAe,CAAC;MACnE,OAAO;QAAED,IAAI;QAAEC,eAAe;QAAEE;MAAM,CAAC;IAAC;EAC5C;EACAD,eAAeA,CAACJ,QAAQ,EAAE;IACtB,IAAI,CAAC,IAAI,CAACO,eAAe,CAACP,QAAQ,CAAC,EAAE;MACjC,OAAO;QACHE,IAAI,EAAEF,QAAQ,EAAEQ,UAAU,GACpBR,QAAQ,CAACQ,UAAU,CAAC,CAAC,GACrBR;MACV,CAAC;IACL;IACA,MAAM;MAAES,MAAM,EAAEP,IAAI;MAAE,GAAGC;IAAgB,CAAC,GAAGH,QAAQ;IACrD,OAAO;MAAEE,IAAI;MAAEC;IAAgB,CAAC;EACpC;EACAI,eAAeA,CAACE,MAAM,EAAE;IACpB,OAAO,CAAC,CAACA,MAAM,CAACA,MAAM;EAC1B;AACJ;AACAjB,OAAO,CAACE,cAAc,GAAGA,cAAc","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}