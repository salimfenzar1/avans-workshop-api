{"ast":null,"code":"\"use strict\";\n\nvar _asyncToGenerator = require(\"C:/Users/salim/Dev/avans-nx-workshop-2024/avans-nx-workshop/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PipesConsumer = void 0;\nconst params_token_factory_1 = require(\"./params-token-factory\");\nclass PipesConsumer {\n  constructor() {\n    this.paramsTokenFactory = new params_token_factory_1.ParamsTokenFactory();\n  }\n  apply(value, {\n    metatype,\n    type,\n    data\n  }, pipes) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const token = _this.paramsTokenFactory.exchangeEnumForString(type);\n      return _this.applyPipes(value, {\n        metatype,\n        type: token,\n        data\n      }, pipes);\n    })();\n  }\n  applyPipes(value, {\n    metatype,\n    type,\n    data\n  }, transforms) {\n    return _asyncToGenerator(function* () {\n      return transforms.reduce( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (deferredValue, pipe) {\n          const val = yield deferredValue;\n          const result = pipe.transform(val, {\n            metatype,\n            type,\n            data\n          });\n          return result;\n        });\n        return function (_x, _x2) {\n          return _ref.apply(this, arguments);\n        };\n      }(), Promise.resolve(value));\n    })();\n  }\n}\nexports.PipesConsumer = PipesConsumer;","map":{"version":3,"names":["_asyncToGenerator","require","default","Object","defineProperty","exports","value","PipesConsumer","params_token_factory_1","constructor","paramsTokenFactory","ParamsTokenFactory","apply","metatype","type","data","pipes","_this","token","exchangeEnumForString","applyPipes","transforms","reduce","_ref","deferredValue","pipe","val","result","transform","_x","_x2","arguments","Promise","resolve"],"sources":["C:/Users/salim/Dev/avans-nx-workshop-2024/avans-nx-workshop/node_modules/@nestjs/core/pipes/pipes-consumer.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PipesConsumer = void 0;\nconst params_token_factory_1 = require(\"./params-token-factory\");\nclass PipesConsumer {\n    constructor() {\n        this.paramsTokenFactory = new params_token_factory_1.ParamsTokenFactory();\n    }\n    async apply(value, { metatype, type, data }, pipes) {\n        const token = this.paramsTokenFactory.exchangeEnumForString(type);\n        return this.applyPipes(value, { metatype, type: token, data }, pipes);\n    }\n    async applyPipes(value, { metatype, type, data }, transforms) {\n        return transforms.reduce(async (deferredValue, pipe) => {\n            const val = await deferredValue;\n            const result = pipe.transform(val, { metatype, type, data });\n            return result;\n        }, Promise.resolve(value));\n    }\n}\nexports.PipesConsumer = PipesConsumer;\n"],"mappings":"AAAA,YAAY;;AAAC,IAAAA,iBAAA,GAAAC,OAAA,wHAAAC,OAAA;AACbC,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,aAAa,GAAG,KAAK,CAAC;AAC9B,MAAMC,sBAAsB,GAAGP,OAAO,CAAC,wBAAwB,CAAC;AAChE,MAAMM,aAAa,CAAC;EAChBE,WAAWA,CAAA,EAAG;IACV,IAAI,CAACC,kBAAkB,GAAG,IAAIF,sBAAsB,CAACG,kBAAkB,CAAC,CAAC;EAC7E;EACMC,KAAKA,CAACN,KAAK,EAAE;IAAEO,QAAQ;IAAEC,IAAI;IAAEC;EAAK,CAAC,EAAEC,KAAK,EAAE;IAAA,IAAAC,KAAA;IAAA,OAAAjB,iBAAA;MAChD,MAAMkB,KAAK,GAAGD,KAAI,CAACP,kBAAkB,CAACS,qBAAqB,CAACL,IAAI,CAAC;MACjE,OAAOG,KAAI,CAACG,UAAU,CAACd,KAAK,EAAE;QAAEO,QAAQ;QAAEC,IAAI,EAAEI,KAAK;QAAEH;MAAK,CAAC,EAAEC,KAAK,CAAC;IAAC;EAC1E;EACMI,UAAUA,CAACd,KAAK,EAAE;IAAEO,QAAQ;IAAEC,IAAI;IAAEC;EAAK,CAAC,EAAEM,UAAU,EAAE;IAAA,OAAArB,iBAAA;MAC1D,OAAOqB,UAAU,CAACC,MAAM;QAAA,IAAAC,IAAA,GAAAvB,iBAAA,CAAC,WAAOwB,aAAa,EAAEC,IAAI,EAAK;UACpD,MAAMC,GAAG,SAASF,aAAa;UAC/B,MAAMG,MAAM,GAAGF,IAAI,CAACG,SAAS,CAACF,GAAG,EAAE;YAAEb,QAAQ;YAAEC,IAAI;YAAEC;UAAK,CAAC,CAAC;UAC5D,OAAOY,MAAM;QACjB,CAAC;QAAA,iBAAAE,EAAA,EAAAC,GAAA;UAAA,OAAAP,IAAA,CAAAX,KAAA,OAAAmB,SAAA;QAAA;MAAA,KAAEC,OAAO,CAACC,OAAO,CAAC3B,KAAK,CAAC,CAAC;IAAC;EAC/B;AACJ;AACAD,OAAO,CAACE,aAAa,GAAGA,aAAa","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}