{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TypeMetadataStorage = exports.TypeMetadataStorageHost = void 0;\nconst is_target_equal_util_1 = require(\"../utils/is-target-equal-util\");\nclass TypeMetadataStorageHost {\n  constructor() {\n    this.schemas = new Array();\n    this.properties = new Array();\n    this.virtuals = new Array();\n  }\n  addPropertyMetadata(metadata) {\n    this.properties.unshift(metadata);\n  }\n  addSchemaMetadata(metadata) {\n    this.compileClassMetadata(metadata);\n    this.schemas.push(metadata);\n  }\n  addVirtualMetadata(metadata) {\n    this.virtuals.push(metadata);\n  }\n  getSchemaMetadataByTarget(target) {\n    return this.schemas.find(item => item.target === target);\n  }\n  compileClassMetadata(metadata) {\n    const belongsToClass = is_target_equal_util_1.isTargetEqual.bind(undefined, metadata);\n    if (!metadata.properties) {\n      metadata.properties = this.getClassFieldsByPredicate(belongsToClass);\n    }\n  }\n  getClassFieldsByPredicate(belongsToClass) {\n    return this.properties.filter(belongsToClass);\n  }\n  getVirtualsMetadataByTarget(targetFilter) {\n    return this.virtuals.filter(({\n      target\n    }) => target === targetFilter);\n  }\n}\nexports.TypeMetadataStorageHost = TypeMetadataStorageHost;\nconst globalRef = global;\nexports.TypeMetadataStorage = globalRef.MongoTypeMetadataStorage || (globalRef.MongoTypeMetadataStorage = new TypeMetadataStorageHost());","map":{"version":3,"names":["Object","defineProperty","exports","value","TypeMetadataStorage","TypeMetadataStorageHost","is_target_equal_util_1","require","constructor","schemas","Array","properties","virtuals","addPropertyMetadata","metadata","unshift","addSchemaMetadata","compileClassMetadata","push","addVirtualMetadata","getSchemaMetadataByTarget","target","find","item","belongsToClass","isTargetEqual","bind","undefined","getClassFieldsByPredicate","filter","getVirtualsMetadataByTarget","targetFilter","globalRef","global","MongoTypeMetadataStorage"],"sources":["C:/Users/salim/Dev/avans-nx-workshop-2024/avans-nx-workshop/node_modules/@nestjs/mongoose/dist/storages/type-metadata.storage.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeMetadataStorage = exports.TypeMetadataStorageHost = void 0;\nconst is_target_equal_util_1 = require(\"../utils/is-target-equal-util\");\nclass TypeMetadataStorageHost {\n    constructor() {\n        this.schemas = new Array();\n        this.properties = new Array();\n        this.virtuals = new Array();\n    }\n    addPropertyMetadata(metadata) {\n        this.properties.unshift(metadata);\n    }\n    addSchemaMetadata(metadata) {\n        this.compileClassMetadata(metadata);\n        this.schemas.push(metadata);\n    }\n    addVirtualMetadata(metadata) {\n        this.virtuals.push(metadata);\n    }\n    getSchemaMetadataByTarget(target) {\n        return this.schemas.find((item) => item.target === target);\n    }\n    compileClassMetadata(metadata) {\n        const belongsToClass = is_target_equal_util_1.isTargetEqual.bind(undefined, metadata);\n        if (!metadata.properties) {\n            metadata.properties = this.getClassFieldsByPredicate(belongsToClass);\n        }\n    }\n    getClassFieldsByPredicate(belongsToClass) {\n        return this.properties.filter(belongsToClass);\n    }\n    getVirtualsMetadataByTarget(targetFilter) {\n        return this.virtuals.filter(({ target }) => target === targetFilter);\n    }\n}\nexports.TypeMetadataStorageHost = TypeMetadataStorageHost;\nconst globalRef = global;\nexports.TypeMetadataStorage = globalRef.MongoTypeMetadataStorage ||\n    (globalRef.MongoTypeMetadataStorage = new TypeMetadataStorageHost());\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,mBAAmB,GAAGF,OAAO,CAACG,uBAAuB,GAAG,KAAK,CAAC;AACtE,MAAMC,sBAAsB,GAAGC,OAAO,CAAC,+BAA+B,CAAC;AACvE,MAAMF,uBAAuB,CAAC;EAC1BG,WAAWA,CAAA,EAAG;IACV,IAAI,CAACC,OAAO,GAAG,IAAIC,KAAK,CAAC,CAAC;IAC1B,IAAI,CAACC,UAAU,GAAG,IAAID,KAAK,CAAC,CAAC;IAC7B,IAAI,CAACE,QAAQ,GAAG,IAAIF,KAAK,CAAC,CAAC;EAC/B;EACAG,mBAAmBA,CAACC,QAAQ,EAAE;IAC1B,IAAI,CAACH,UAAU,CAACI,OAAO,CAACD,QAAQ,CAAC;EACrC;EACAE,iBAAiBA,CAACF,QAAQ,EAAE;IACxB,IAAI,CAACG,oBAAoB,CAACH,QAAQ,CAAC;IACnC,IAAI,CAACL,OAAO,CAACS,IAAI,CAACJ,QAAQ,CAAC;EAC/B;EACAK,kBAAkBA,CAACL,QAAQ,EAAE;IACzB,IAAI,CAACF,QAAQ,CAACM,IAAI,CAACJ,QAAQ,CAAC;EAChC;EACAM,yBAAyBA,CAACC,MAAM,EAAE;IAC9B,OAAO,IAAI,CAACZ,OAAO,CAACa,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACF,MAAM,KAAKA,MAAM,CAAC;EAC9D;EACAJ,oBAAoBA,CAACH,QAAQ,EAAE;IAC3B,MAAMU,cAAc,GAAGlB,sBAAsB,CAACmB,aAAa,CAACC,IAAI,CAACC,SAAS,EAAEb,QAAQ,CAAC;IACrF,IAAI,CAACA,QAAQ,CAACH,UAAU,EAAE;MACtBG,QAAQ,CAACH,UAAU,GAAG,IAAI,CAACiB,yBAAyB,CAACJ,cAAc,CAAC;IACxE;EACJ;EACAI,yBAAyBA,CAACJ,cAAc,EAAE;IACtC,OAAO,IAAI,CAACb,UAAU,CAACkB,MAAM,CAACL,cAAc,CAAC;EACjD;EACAM,2BAA2BA,CAACC,YAAY,EAAE;IACtC,OAAO,IAAI,CAACnB,QAAQ,CAACiB,MAAM,CAAC,CAAC;MAAER;IAAO,CAAC,KAAKA,MAAM,KAAKU,YAAY,CAAC;EACxE;AACJ;AACA7B,OAAO,CAACG,uBAAuB,GAAGA,uBAAuB;AACzD,MAAM2B,SAAS,GAAGC,MAAM;AACxB/B,OAAO,CAACE,mBAAmB,GAAG4B,SAAS,CAACE,wBAAwB,KAC3DF,SAAS,CAACE,wBAAwB,GAAG,IAAI7B,uBAAuB,CAAC,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}